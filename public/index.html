<!DOCTYPE html>
<html ng-app="BetYourFriends">
<head lang="en">
<head lang="en">
    <meta charset="UTF-8">
    <title>BetYourFriends!</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
</head>
<body>
<script src="scripts/angular.js"></script>
<script src="scripts/client-side-io.js"></script>
<section ng-controller="matchController as matchCtrl" align="center">
    <div class="wrapper col-xs-6 col-xs-offset-3" align="center">
        <form name="userForm" role="form" ng-submit="matchCtrl.login()">
            <div ng-hide=loggedIn>
                <div class="row">
                    <h2 class="form-signin-heading">Please Enter your Username</h2>
                </div>
                <div class="row">
                    <div class="form-group">
                        <!--<label>Username</label> !-->
                        <input name="username" placeholder="Username" type="text" class="form-control"
                               ng-model="user.username" required/><br>
                        <button type="submit" class="btn btn-lg btn-primary btn-block">
                            Login
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div ng-repeat="match in matches" ng-show=loggedIn>
        <div class="col-xs-6 col-xs-offset-3">
            <h1><img src="{{match.Team1.TeamIconUrl}}"> {{match.Team1.TeamName}} <br/> VS. <br/> <img
                    src="{{match.Team2.TeamIconUrl}}"> {{match.Team2.TeamName}}</h1>
            <b>Current Score: </b>{{match.MatchResults[0].PointsTeam1}}/{{match.MatchResults[0].PointsTeam2}}
        </div>

        <div class="col-xs-6 col-xs-offset-3 row margin-top-30">
            <div class="table-responsive">
                <table data-toggle="table" class="table table-striped">
                    <thead>
                    <tr>
                        <th>Username</th>
                        <th>Bet</th>
                        <th>Amount</th>
                        <th>Reward</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="bet in match.bets">
                        <td>{{bet.username}}</td>
                        <td>{{bet.team1Goals}}/{{bet.team2Goals}}</td>
                        <td>{{bet.amount}}</td>
                        <td>Reward</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-xs-6 col-xs-offset-3 row margin-top-20">
            <h3>Place your Bet here</h3>

            <form name="betForm" role="form"
                  ng-submit="betForm.$valid && matchCtrl.placeBet(match.matchId, $index)">
                <div class="row">
                    <fieldset class="form-inline">
                        <div class="form-group col-xs-8 col-xs-offset-2">
                            <label>{{match.Team1.TeamName}} Goals: </label> <br>
                            <div class="col-xs-12">
                            <input type="number" class="form-control" id="t1Goals{{$index}}"
                                   required/>
                            </div>
                        </div>
                        <div class="form-group col-xs-8 col-xs-offset-2">
                            <label>{{match.Team2.TeamName}} Goals: </label> <br>
                            <div class="col-xs-12">
                            <input type="number" class="form-control" id="t2Goals{{$index}}"
                                   required/>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <br>

                <div class="row">
                    <fieldset class="form-inline">
                        <div class="form-group">
                            <label for="betAmount">Your Amount*</label>
                            <select class="form-control" name="betAmount" id="betAmount{{$index}}" required>
                                <option value="10" selected>10 EUR</option>
                                <option value="20">20 EUR</option>
                                <option value="50">50 EUR</option>
                                <option value="100">100 EUR</option>
                                <option value="500">500 EUR</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <!-- ng-disabled="match.MatchIsRunning || match.MatchIsFinished" -->
                            Place Bet
                        </button>
                    </fieldset>
                </div>
            </form>
        </div>
        <hr style="width: 50%; border-width: 3px;" align="left">
    </div>
</section>
</body>
</html>